version: 2
models:
  - name: stg_mortality_surveillance
    description: This table contains raw data for mortality surveillance

    columns:
      - name: unique_id
        description: Unique identifier for each mortality case
        tests:
          - dbt_expectations.expect_column_to_exist:
              name: stg_mortality_surveillance_Unique_id_exists
          - dbt_expectations.expect_column_values_to_be_unique:
              name: stg_mortality_surveillance_Unique_id_is_unique
          - dbt_expectations.expect_column_values_to_be_of_type:
              name: stg_mortality_surveillance_Unique_id_is_a_string
              column_type: text
          - dbt_expectations.expect_column_values_to_not_be_null:
              name: stg_mortality_surveillance_Unique_id_is_not_null
              row_condition: "unique_id is not null"        
      - name: record_id
        description: Record identifier for the mortality case   
        tests:
            - dbt_expectations.expect_column_to_exist:
                name: stg_mortality_surveillance_Record_id_exists
            - dbt_expectations.expect_column_values_to_be_unique:
                name: stg_mortality_surveillance_Record_id_is_unique
            - dbt_expectations.expect_column_values_to_be_of_type:
                name: stg_mortality_surveillance_Record_id_is_a_string
                column_type: text
            - dbt_expectations.expect_column_values_to_not_be_null:
                name: stg_mortality_surveillance_Record_id_is_not_null
                row_condition: "record_id is not null"
       
     